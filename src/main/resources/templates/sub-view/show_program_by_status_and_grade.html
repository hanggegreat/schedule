<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="_csrf" th:content="${_csrf.token}"/>
    <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
    <title>培养方案</title>
    <link rel="stylesheet" href="../../static/frame/layui/css/layui.css" th:href="@{/frame/layui/css/layui.css}">
    <link rel="stylesheet" href="../../static/frame/static/css/style.css" th:href="@{/frame/static/css/style.css}">
    <link rel="icon" href="../../static/frame/static/image/code.png" th:href="@{/frame/static/image/code.png}">
    <link rel="stylesheet" href="../../static/css/bootstrap.min.css"
          th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css}">
    <script src="../../static/js/jquery3.3.1.min.js" th:src="@{/webjars/jquery/3.0.0/jquery.min.js}"></script>
    <script src="../../static/js/own-js.js" th:src="@{/js/own-js.js}"></script>
    <script src="../../static/js/popper.min.js" th:src="@{/webjars/popper.js/1.14.3/popper.min.js}"></script>
    <script src="../../static/js/bootstrap.min.js" th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script>
</head>
<body>
<div class="layui-form-item">
    <div class="layui-input-inline">
        <select name="quiz3" id="enrollYear" th:attr="a = ${url}"
                onchange="window.location='/teacher/academic/program/' +  this.getAttribute('a') + '/' +  this.value;">
            <option value="">请选择届次</option>
            <option th:selected="${enrollYear == '2018'}" value="2018">2018</option>
            <option th:selected="${enrollYear == '2017'}" value="2017">2017</option>
            <option th:selected="${enrollYear == '2016'}" value="2016">2016</option>
        </select>
    </div>
</div>
<fieldset class="layui-elem-field layui-field-title">
    <legend th:switch="${status}">
        <span th:case="'0'">未发布</span>
        <span th:case="'1'">已发布</span>
        <span th:case="'2'">待审核</span>
        <span th:case="'3'">未通过</span>
        的培养方案
    </legend>
</fieldset>
<table th:if="${programs != null}" class="layui-table" lay-even="" lay-skin="row">
    <colgroup class="table-col">
        <col>
        <col>
        <col>
        <col>
        <col>
        <col>
    </colgroup>
    <thead class="table-title">
    <tr>
        <th>编号</th>
        <th>学年</th>
        <th>名称</th>
        <th>学科</th>
        <th>年级</th>
        <th>学时</th>
        <th>考核方式</th>
        <th th:if="${status != '2'}"></th>
        <th th:if="${status != '2'}"></th>
    </tr>
    </thead>
    <tbody class="table-content">
    <tr th:each="program: ${programs}">
        <td th:text="${program.id}"></td>
        <td th:text="${program.year} + '-' + (${#numbers.formatInteger(program.year, 0)} + 1)"></td>
        <td th:text="${program.name}"></td>
        <td th:text="${program.subject.subName}"></td>
        <td th:switch="${program.gradeNo}">
            <span th:case="'7'">七年级</span>
            <span th:case="'8'">八年级</span>
            <span th:case="'9'">九年级</span>
        </td>
        <td th:text="${program.amount}"></td>
        <td th:text="${program.exam == '0' ? '考查' : '考试'}"></td>
        <td th:if="${status != '2'}"><button class="layui-btn layui-btn-small layui-btn-normal"><i class="layui-icon">&#xe640;</i> 删除</button></td>
        <td th:if="${status != '2'}"><button class="layui-btn layui-btn-small layui-btn-normal">修改</button></td>
    </tr>
    </tbody>
</table>
</body>
</html>